EXEC BPG_PAYMENTS_V2.BPC_VOUCHER_ACCOUNTING('A','2023011408','C',USER,USER,SYSDATE);
commit;
/
--2020007664
--2020003205
--2020005858

/*
Author Eng Frank Bagambe
Date: 13-Aug-2024 
Description, Fixing Invoices that had no accounting 
*/
DECLARE
    TYPE InvoiceTableType IS TABLE OF VARCHAR2(50);
    invoice_numbers InvoiceTableType := InvoiceTableType('2020007664', '2020003205', '2020005858'); -- Add your invoice numbers here
BEGIN
    FOR i IN 1 .. invoice_numbers.COUNT LOOP
        BPG_PAYMENTS_V2.BPC_VOUCHER_ACCOUNTING('A', invoice_numbers(i), 'C', USER, USER, SYSDATE);
    END LOOP;
    
    COMMIT; -- Commit the changes after all invoices are processed
END;
/


DECLARE
    TYPE InvoiceTableType IS TABLE OF VARCHAR2(50);
    invoice_numbers InvoiceTableType := InvoiceTableType('2020003205',
'2020005858',
'2021001901',
'2021005027',
'2021008275',
'2021021061',
'2023007065',
'2023001178',
'2023009419',
'2023006099',
'2023005783',
'2023009184',
'2023015470',
'2024002435',
'2023012454',
'2020004858',
'2020000165',
'202301200',
'2022009985',
'2022009047',
'2023007533',
'2024005448',
'2024002738',
'2024008480',
'2022003075',
'2022002264',
'2022005007',
'2023000341',
'2023008379',
'2023011579',
'2023015638',
'2024001078',
'2023014441',
'2023013742',
'2020003989',
'2020002506',
'2021001042',
'2021017769',
'2021020161',
'2021010761',
'2022007002',
'2023010620',
'2023011250',
'2024007765',
'2024009629',
'2021019283',
'2022001423',
'2021014493',
'2023004682',
'2023010381',
'2023014027',
'2020001870',
'2020009396',
'2021002733',
'2022000158',
'2022009863',
'2022010744',
'2022008893',
'2022004134',
'2023001316',
'2023003865',
'2024001335',
'2023011406',
'2023011407',
'2023011911',
'2024011365',
'2023004996',
'2023008629',
'2023008380',
'2023003674',
'2023013153',
'2024005096',
'2024003781',
'2024004082',
'2024006901',
'2024006567',
'2020001029',
'2021000164',
'2020008538',
'2022010893',
'2022007976',
'2022006046',
'2023008134',
'2023011408',
'2023012796',
'2024008097'); -- Add your invoice numbers here
BEGIN
    FOR i IN 1 .. invoice_numbers.COUNT LOOP
        BPG_PAYMENTS_V2.BPC_VOUCHER_ACCOUNTING('A', invoice_numbers(i), 'C', USER, USER, SYSDATE);
    END LOOP;
    
    COMMIT; -- Commit the changes after all invoices are processed
END;
/